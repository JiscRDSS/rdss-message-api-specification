{
  "id": "https://www.jisc.ac.uk/rdss/schema/messages/header/header_schema.json/#",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "Message Header",
  "description": "Header containing message metadata",
  "type": "object",
  "properties": {
    "messageId": {
      "description": "System wide unique identifier describing the message",
      "type": "String"
    },
    "correlationId": {
      "description": "In the response message, the messageId of the original message",
      "type": "String"
    },
    "messageClass" : {
      "type" : "String",
      "enum" : ["Command", "Event", "Document"]
    },
    "messageType" : {
      "type" : "String",
      "enum": ["MetadataCreate", "MetadataUpdate", "MetadataDelete", "MetadataRead", "VocabularyRead", "VocabularyPatch"]
    },
    "returnAddress": {
      "type" : "String"
    },
    "messageTimings": {
      "description" : "Message timings",
      "type" : "object"
      "properties": {
        "publishedTimestamp": {
          "description" : "Point in time when message was dispatched",
          "type" : "String",
          "pattern" : "[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(.[0-9]{2})?\+[0-9]{2}:[0-9]{2}"
        },
        "expirationTimestamp" : {
          "description" : "Point in time when message expires",
          "type": "String",
          "pattern" : "[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(.[0-9]{2})?\+[0-9]{2}:[0-9]{2}"
        }
      }
    },

    "messageSequence" : {
      "description": "If the message is part of a sequence, the location of the message in that sequence",
      "type": "object",
      "properties": {
        "sequence": {
          "description": "System wide identifier for message",
          "type": "String"
        },
        "position": {
          "description": "Position in the sequence to which the message belongs",
          "type": "Integer"
        },
        "total": {
          "description": "Total number of messages in the sequence",
          "type": "Integer"
        }
      }
    }

    "messageHistory" : {
      "description" : "The route of the message up to and including this point in time",
      "type" : "object",
      "properties" : {
        "machineId" : {
          "description": "ID of the machine that generated the history entry",
          "type" : "String"
        },
        "machineAddress" : {
          "description" : "Hostname, IP or other identifying network address of the generating machine",
          "type": "String"
        },
        "timestamp" : {
          "description" : "Time at which this history entry was generates",
          "type" : "Timestamp"
        }
      }
    },
    "version": {
      "description" : "version of the Messaging API specification",
      "type" : "String"
    },
    "errorCode" : {
      "description" : "Code representing the error that occurred",
      "type" : "String"
    },
    "errorDescription" : {
      "description" : "Meaningful description of error",
      "type" : "String"
    }


  }
}